.army-builder-dashboard {
  max-width: 1400px;
  margin: 0 auto;
  padding: 2rem clamp(1rem, 3vw, 2.5rem) 4rem;
  color: #0c1331;
}

.builder-header {
  position: sticky;
  top: 0;
  z-index: 2;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding: 2rem;
  margin-bottom: 2rem;
  background: linear-gradient(135deg, #101534, #282f6a);
  color: #fff;
  border-radius: 32px;
  box-shadow: 0 30px 70px rgba(8, 11, 30, 0.55);
}

.builder-header__intro h1 {
  margin: 0.25rem 0;
  font-size: clamp(2rem, 3vw, 2.8rem);
}

.builder-header__intro p {
  margin: 0;
  max-width: 34rem;
  color: rgba(255, 255, 255, 0.85);
}

.resource-bar {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
}

.resource-pill {
  display: flex;
  gap: 0.85rem;
  align-items: center;
  padding: 1rem;
  border-radius: 18px;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(8px);
}

.resource-pill p {
  margin: 0;
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.18em;
  color: rgba(255, 255, 255, 0.7);
}

.resource-pill strong {
  display: block;
  font-size: 1.4rem;
  line-height: 1.1;
}

.resource-pill small {
  font-size: 0.75rem;
  color: rgba(255, 255, 255, 0.65);
}

.resource-icon {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  display: grid;
  place-items: center;
  font-size: 1.5rem;
  background: rgba(255, 255, 255, 0.12);
}

.eyebrow {
  margin: 0;
  font-size: 0.75rem;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: rgba(12, 19, 49, 0.65);
}

.dashboard-layout {
  display: grid;
  grid-template-columns: minmax(260px, 0.9fr) minmax(0, 1.7fr);
  gap: 1.75rem;
  align-items: flex-start;
}

.panel {
  background: #fff;
  border: 1px solid #e3e6ff;
  border-radius: 28px;
  padding: 1.75rem;
  box-shadow: 0 25px 60px rgba(11, 16, 42, 0.08);
}

.panel-header {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  align-items: center;
  margin-bottom: 0.5rem;
}

.panel-header h2 {
  margin: 0.35rem 0 0;
  font-size: 1.55rem;
}

.panel-subtitle {
  margin: 0 0 1.5rem;
  color: #6a7193;
  font-size: 0.95rem;
}

.roster-list {
  display: flex;
  flex-direction: column;
  gap: 0.85rem;
}

.roster-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 0.85rem 1rem;
  border-radius: 18px;
  border: 1px solid #eef0ff;
  background: #f9f9ff;
}

.roster-item__meta {
  display: flex;
  align-items: center;
  gap: 0.85rem;
}

.unit-icon {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  display: grid;
  place-items: center;
  font-size: 1.3rem;
  background: #e6e9ff;
}

.roster-item__meta p {
  margin: 0;
  font-weight: 600;
}

.roster-item__meta small {
  color: #6b6f8b;
}

.roster-item__actions {
  display: flex;
  align-items: center;
  gap: 0.65rem;
}

.supply-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.25rem 0.75rem;
  border-radius: 999px;
  background: #ecefff;
  font-weight: 600;
}

.empty-state {
  padding: 1.5rem;
  border: 1px dashed #cfd3f7;
  border-radius: 20px;
  background: #fbfbff;
  color: #73789a;
  text-align: center;
}

.btn {
  border: none;
  border-radius: 999px;
  padding: 0.6rem 1.4rem;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  box-shadow: none;
}

.btn-primary {
  background: #5c5bff;
  color: #fff;
  box-shadow: 0 15px 30px rgba(92, 91, 255, 0.35);
}

.btn-secondary {
  background: #eef0ff;
  color: #333a6b;
}

.btn-ghost {
  background: transparent;
  color: #454b75;
  border: 1px solid rgba(69, 75, 117, 0.2);
}

.btn:not(:disabled):hover {
  transform: translateY(-2px);
}

.main-column {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.catalog-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 1rem;
}

.unit-card {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  border: 1px solid #e4e6ff;
  border-radius: 22px;
  padding: 1rem;
  background: #fefefe;
  min-height: 220px;
  transition: border 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
}

.unit-card--active {
  border-color: #5c5bff;
  box-shadow: 0 15px 35px rgba(92, 91, 255, 0.15);
}

.unit-card__body {
  display: flex;
  gap: 1rem;
  align-items: center;
  cursor: pointer;
}

.unit-card__body:focus-visible {
  outline: 2px solid #5c5bff;
  outline-offset: 4px;
}

.unit-card__media {
  width: 64px;
  height: 64px;
  border-radius: 18px;
  background: #eff0ff;
  display: grid;
  place-items: center;
  font-size: 1.8rem;
}

.unit-card__info h3 {
  margin: 0;
  font-size: 1.15rem;
}

.unit-card__info p {
  margin: 0.15rem 0 0.4rem;
  color: #6a6e90;
}

.unit-card__stats {
  display: grid;
  grid-template-columns: repeat(2, minmax(80px, 1fr));
  gap: 0.35rem 0.75rem;
  font-size: 0.9rem;
  color: #1c223d;
}

.unit-card__actions {
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
  margin-top: 0.85rem;
}

.unit-card__hint {
  color: #9a9ebc;
  font-size: 0.8rem;
}

.intel-panel {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.spotlight {
  display: grid;
  gap: 1.25rem;
  grid-template-columns: minmax(240px, 0.9fr) minmax(0, 1fr);
  align-items: stretch;
}

.spotlight__media {
  position: relative;
  border-radius: 26px;
  padding: 1.25rem;
  background: radial-gradient(circle at 20% 20%, rgba(92, 91, 255, 0.35), rgba(6, 11, 40, 0.95));
  min-height: 360px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  overflow: hidden;
}

.unit-preview-canvas,
.unit-preview-canvas canvas {
  width: 100%;
  height: 100%;
}

.unit-preview-canvas {
  flex: 1;
  position: relative;
  isolation: isolate;
}

.spotlight__media canvas,
.spotlight__media .unit-visual__placeholder {
  flex: 1;
}

.spotlight__actions {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  margin-top: 1rem;
}

.available-supply {
  color: rgba(255, 255, 255, 0.75);
  font-size: 0.9rem;
}

.spotlight__stats {
  padding: 1.25rem;
  border-radius: 26px;
  border: 1px solid #eef0ff;
  background: #f9f9ff;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.spotlight__header h2 {
  margin: 0.25rem 0;
}

.spotlight__cost {
  margin: 0;
  color: #6a6f9a;
}

.stat-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 0.75rem;
}

.stat-card {
  display: flex;
  gap: 0.65rem;
  align-items: center;
  padding: 0.85rem;
  border-radius: 18px;
  background: #fff;
  border: 1px solid #e6e8ff;
}

.stat-card p {
  margin: 0;
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  color: #7a80a5;
}

.stat-card strong {
  display: block;
  font-size: 1.2rem;
}

.stat-card small {
  font-size: 0.8rem;
  margin-left: 0.35rem;
  color: #9aa0c4;
}

.collapsible-stack {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.collapsible-section {
  border: 1px solid #ecefff;
  border-radius: 22px;
  padding: 1rem 1.25rem;
  background: #fff;
}

.collapsible-toggle {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: none;
  border: none;
  padding: 0;
  font-weight: 600;
  font-size: 1rem;
  cursor: pointer;
}

.collapsible-description {
  margin: 0.35rem 0 0.75rem;
  color: #7b80a6;
  font-size: 0.9rem;
}

.collapsible-body ul {
  margin: 0;
  padding-left: 1.25rem;
  color: #4a506d;
  line-height: 1.5;
}

.collapsible-body p {
  margin: 0;
}

.chevron {
  width: 18px;
  height: 18px;
  border-right: 2px solid #7f84a7;
  border-bottom: 2px solid #7f84a7;
  transform: rotate(45deg);
  transition: transform 0.2s ease;
}

.collapsible-section.open .chevron {
  transform: rotate(-135deg);
}

.muted {
  color: #9298ba;
}

.unit-visual__placeholder {
  width: 100%;
  min-height: 240px;
  border-radius: 20px;
  display: grid;
  place-items: center;
  background: rgba(255, 255, 255, 0.08);
  color: #fff;
  text-align: center;
}

.unit-visual__placeholder p {
  margin: 0.4rem 0 0;
  letter-spacing: 0.1em;
}

.mini-board {
  position: relative;
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 0.35rem;
  border-radius: 18px;
  padding: 1rem;
  background: radial-gradient(circle at center, rgba(15, 23, 42, 0.08), rgba(15, 23, 42, 0));
}

.mini-board::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 18px;
  box-shadow: inset 0 0 80px rgba(15, 23, 42, 0.35);
  pointer-events: none;
}

.mini-board__cell {
  width: 48px;
  aspect-ratio: 1 / 1;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  font-weight: 700;
  position: relative;
}

.mini-board__cell--light {
  background: #f6f3ff;
}

.mini-board__cell--dark {
  background: #e0dbff;
}

.mini-board__cell--move::before,
.mini-board__cell--attack::before,
.mini-board__cell--origin::before {
  content: '';
  position: absolute;
  inset: 4px;
  border-radius: 6px;
  opacity: 0.7;
}

.mini-board__cell--move::before {
  background: rgba(45, 212, 191, 0.45);
}

.mini-board__cell--attack::before {
  background: rgba(248, 113, 113, 0.4);
}

.mini-board__cell--focus::before {
  background: linear-gradient(135deg, rgba(45, 212, 191, 0.6), rgba(248, 113, 113, 0.6));
}

.mini-board__cell--origin::before {
  background: rgba(59, 130, 246, 0.55);
}

.mini-board__legend {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  margin-top: 1rem;
  font-size: 0.85rem;
  color: #4a506b;
}

.mini-board__legend-item {
  display: flex;
  align-items: center;
  gap: 0.35rem;
}

.mini-board__legend-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  display: inline-block;
}

.mini-board__legend-dot--move {
  background: rgba(45, 212, 191, 0.8);
}

.mini-board__legend-dot--attack {
  background: rgba(248, 113, 113, 0.8);
}

.mini-board__legend-dot--origin {
  background: rgba(59, 130, 246, 0.85);
}

.mini-board__note {
  margin-top: 0.75rem;
  font-size: 0.9rem;
  color: #4b516c;
  line-height: 1.4;
}

@media (max-width: 1200px) {
  .dashboard-layout {
    grid-template-columns: 1fr;
  }

  .builder-header {
    position: static;
  }

  .spotlight {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 900px) {
  .army-builder-dashboard {
    padding-top: 1.5rem;
  }

  .panel {
    padding: 1.25rem;
  }

  .catalog-grid {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }
}

@media (max-width: 600px) {
  .resource-bar {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  }

  .unit-card__body {
    flex-direction: column;
    align-items: flex-start;
  }

  .unit-card__stats {
    grid-template-columns: repeat(2, 1fr);
  }

  .spotlight__media {
    min-height: 280px;
  }

  .mini-board {
    grid-template-columns: repeat(5, 40px);
  }

  .mini-board__cell {
    width: 40px;
  }
}
